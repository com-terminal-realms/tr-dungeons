# AUTO-GENERATED by orb-schema-generator v2.0.2 - DO NOT EDIT
# Regenerate with: orb-schema generate
"""
Generated Python models for CombatEvent
"""

from pydantic import BaseModel, ConfigDict, Field, field_validator
from typing import Any, Dict, List, Optional


# Main Model
class CombatEvent(BaseModel):
    """CombatEvent model."""

    model_config = ConfigDict(from_attributes=True)

    event_id: str = Field(..., description="Unique identifier for the combat event")
    room_id: str = Field(..., description="Room where the event occurred")
    event_type: str = Field(..., description="Type of combat event")
    timestamp: datetime = Field(..., description="When the event occurred")
    source_player_id: Optional[str] = Field(None, description="Player who initiated the event (if applicable)")
    source_enemy_id: Optional[str] = Field(None, description="Enemy who initiated the event (if applicable)")
    target_player_id: Optional[str] = Field(None, description="Player who was targeted by the event (if applicable)")
    target_enemy_id: Optional[str] = Field(None, description="Enemy who was targeted by the event (if applicable)")
    ability_id: Optional[str] = Field(None, description="Ability used (for ability_used events)")
    damage_amount: Optional[float] = Field(None, description="Amount of damage dealt/taken")
    is_critical: Optional[bool] = Field(False, description="Whether the damage was a critical hit")
    item_id: Optional[str] = Field(None, description="Item involved (for loot events)")
    item_quantity: Optional[int] = Field(None, description="Quantity of item (for loot events)")
    position_x: Optional[float] = Field(None, description="X position where event occurred")
    position_y: Optional[float] = Field(None, description="Y position where event occurred")
    position_z: Optional[float] = Field(None, description="Z position where event occurred")
    metadata: Optional[Dict[str, Any]] = Field(None, description="Additional event-specific data as JSON")
    created_at: datetime = Field(..., description="Timestamp when the event was recorded")

    @field_validator("is_critical", mode="before")
    @classmethod
    def parse_is_critical(cls, value):
        """Parse boolean value."""
        if value is None:
            return None
        if isinstance(value, bool):
            return value
        if isinstance(value, str):
            if value.lower() == "true":
                return True
            if value.lower() == "false":
                return False
        return bool(value)


# Response Types
class CombatEventCreateResponse(BaseModel):
    """CombatEvent create response."""

    code: int
    success: bool
    message: Optional[str] = None
    item: Optional[CombatEvent] = None


class CombatEventUpdateResponse(BaseModel):
    """CombatEvent update response."""

    code: int
    success: bool
    message: Optional[str] = None
    item: Optional[CombatEvent] = None


class CombatEventDeleteResponse(BaseModel):
    """CombatEvent delete response."""

    code: int
    success: bool
    message: Optional[str] = None
    item: Optional[CombatEvent] = None


class CombatEventDisableResponse(BaseModel):
    """CombatEvent disable response."""

    code: int
    success: bool
    message: Optional[str] = None
    item: Optional[CombatEvent] = None


class CombatEventGetResponse(BaseModel):
    """CombatEvent get response."""

    code: int
    success: bool
    message: Optional[str] = None
    item: Optional[CombatEvent] = None


class CombatEventListResponse(BaseModel):
    """CombatEvent list response."""

    code: int
    success: bool
    message: Optional[str] = None
    items: Optional[List[CombatEvent]] = None
    next_token: Optional[str] = None
