# AUTO-GENERATED by orb-schema-generator v2.0.2 - DO NOT EDIT
# Regenerate with: orb-schema generate
"""
Generated Python models for RoomState
"""

from datetime import datetime
from typing import List, Optional

from pydantic import BaseModel, ConfigDict, Field, field_validator


# Main Model
class RoomState(BaseModel):
    """RoomState model."""

    model_config = ConfigDict(from_attributes=True)

    room_id: str = Field(..., description="Unique identifier for the room instance")
    dungeon_id: str = Field(
        ..., description="Identifier of the dungeon template this room belongs to"
    )
    room_type: str = Field(
        ..., description="Type of room (start, combat, boss, treasure, exit)"
    )
    max_players: int = Field(
        ..., description="Maximum number of players allowed in this room"
    )
    current_player_count: int = Field(
        ..., description="Current number of players in the room"
    )
    is_cleared: bool = Field(
        ..., description="Whether all enemies in the room have been defeated"
    )
    enemies: List[str] = Field(..., description="Array of enemy instances in the room")
    loot_drops: List[str] = Field(
        ..., description="Array of loot items dropped in the room"
    )
    doors: List[str] = Field(..., description="Array of door states in the room")
    created_at: datetime = Field(
        ..., description="Timestamp when the room instance was created"
    )
    updated_at: Optional[datetime] = Field(
        None, description="Timestamp when the room state was last updated"
    )
    expires_at: Optional[datetime] = Field(
        None, description="Timestamp when this room instance expires (if empty)"
    )

    @field_validator("is_cleared", mode="before")
    @classmethod
    def parse_is_cleared(cls, value):
        """Parse boolean value."""
        if value is None:
            return None
        if isinstance(value, bool):
            return value
        if isinstance(value, str):
            if value.lower() == "true":
                return True
            if value.lower() == "false":
                return False
        return bool(value)


# Response Types
class RoomStateCreateResponse(BaseModel):
    """RoomState create response."""

    code: int
    success: bool
    message: Optional[str] = None
    item: Optional[RoomState] = None


class RoomStateUpdateResponse(BaseModel):
    """RoomState update response."""

    code: int
    success: bool
    message: Optional[str] = None
    item: Optional[RoomState] = None


class RoomStateDeleteResponse(BaseModel):
    """RoomState delete response."""

    code: int
    success: bool
    message: Optional[str] = None
    item: Optional[RoomState] = None


class RoomStateDisableResponse(BaseModel):
    """RoomState disable response."""

    code: int
    success: bool
    message: Optional[str] = None
    item: Optional[RoomState] = None


class RoomStateGetResponse(BaseModel):
    """RoomState get response."""

    code: int
    success: bool
    message: Optional[str] = None
    item: Optional[RoomState] = None


class RoomStateListResponse(BaseModel):
    """RoomState list response."""

    code: int
    success: bool
    message: Optional[str] = None
    items: Optional[List[RoomState]] = None
    next_token: Optional[str] = None
